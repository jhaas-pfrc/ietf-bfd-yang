<?xml version="1.0" encoding="UTF-8"?>

<!-- Updated by Chris 07/29/20 -->

<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">

<rfc xmlns:xi="http://www.w3.org/2001/XInclude"
     docName="draft-ietf-bfd-yang-17" number="0000" ipr="trust200902"
     obsoletes="" updates="" submissionType="IETF" category="std"
     consensus="true" xml:lang="en" tocInclude="true" tocDepth="6"
     symRefs="true" sortRefs="true" version="3"> 

  <!-- xml2rfc v2v3 conversion 2.47.0 -->
  <front>
    <title abbrev="BFD YANG">YANG Data Model for Bidirectional Forwarding
    Detection (BFD)</title>
    <seriesInfo name="RFC" value="0000"/>
    <author fullname="Reshad Rahman" initials="R." role="editor" surname="Rahman">
      <organization></organization>
      <address>
        <postal>
          <country>Canada</country>
        </postal>
        <email>reshad@yahoo.com</email>
      </address>
    </author>
    <author fullname="Lianshu Zheng" initials="L." role="editor" surname="Zheng">
      <organization>Huawei Technologies</organization>
      <address>
        <postal>
          <country>China</country>
        </postal>
        <email>vero.zheng@huawei.com</email>
      </address>
    </author>
    <author fullname="Mahesh Jethanandani" initials="M." role="editor" surname="Jethanandani">
      <organization>Xoriant Corporation</organization>
      <address>
        <postal>
          <street>1248 Reamwood Ave</street>
          <city>Sunnyvale</city>
          <region>California</region>
          <code>94089</code>
          <country>United States of America</country>
        </postal>
        <email>mjethanandani@gmail.com</email>
      </address>
    </author>
    <author fullname="Santosh Pallagatti" initials="S." surname="Pallagatti">
      <organization>RtBrick</organization>
      <address>
        <postal>
          <country>India</country>
        </postal>
        <email>santosh.pallagatti@gmail.com</email>
      </address>
    </author>
    <author fullname="Greg Mirsky" initials="G." surname="Mirsky">
      <organization>ZTE Corporation</organization>
      <address>
        <email>gregimirsky@gmail.com</email>
      </address>
    </author>
    <date month="April" year="2021"/>

<!-- [rfced] Please insert any keywords (beyond those that appear in the
title) for use on https://www.rfc-editor.org/search -->

    <abstract>
      <t>This document defines a YANG data model that can be used to configure
      and manage Bidirectional Forwarding Detection (BFD).</t>
      <t>The YANG modules in this document conform to the Network Management
      Datastore Architecture (NMDA) (RFC 8342).</t>
    </abstract>
  </front>
  <middle>
    <section numbered="true" toc="default">
      <name>Introduction</name>
      <t>This document defines a YANG data model that can be used to configure 
      and manage Bidirectional Forwarding Detection (BFD) <xref target="RFC5880"
      format="default"></xref>. BFD is a network protocol that is used
      for liveness detection of arbitrary paths between systems. Some examples
      of different types of paths over which we have BFD are as follows:</t> 

     <ol spacing="normal" type="1">
      <li>Two systems directly connected via IP. This is known as BFD over
      single-hop IP, a.k.a.&nbsp;<xref target="RFC5881" format="default">BFD for
      IPv4 and IPv6</xref>.</li>
      <li>Two systems connected via multiple hops as described in <xref
      target="RFC5883" format="default">"Bidirectional Forwarding Detection
      (BFD) for Multihop Paths"</xref>.</li>
      <li>Two systems connected via MPLS Label Switched Paths (LSPs) as
      described in <xref target="RFC5884" format="default">"Bidirectional
      Forwarding Detection (BFD) for MPLS Label Switched Paths (LSPs)"</xref>.</li>
      <li>Two systems connected via a Link Aggregation Group (LAG) interface
      as described in <xref target="RFC7130" format="default">"Bidirectional
      Forwarding Detection (BFD) on Link Aggregation Group (LAG) Interfaces"</xref>.</li>
      <li>Two systems connected via pseudowires (PWs). This is known as
      Virtual Circuit Connectivity Verification (VCCV), as described in <xref
      target="RFC5885" format="default">"Bidirectional
      Forwarding Detection (BFD) for the Pseudowire Virtual
      Circuit Connectivity Verification (VCCV)"</xref>. This scenario is not
      addressed in this document.</li>
     </ol>
      <t>BFD typically does not operate on its own. Various control protocols,
      also known as BFD clients, use the services provided by BFD for their
      own operation, as described in <xref target="RFC5882"
      format="default">"Generic Application of Bidirectional Forwarding
      Detection (BFD)"</xref>. The obvious
      candidates that use BFD are those that do not have "hellos" to detect
      failures, e.g., static routes, and routing protocols whose "hellos" do
      not support sub-second failure detection, e.g., OSPF and IS-IS.</t> 
      <t>The YANG modules in this document conform to the <xref
      target="RFC8342" format="default">Network Management Datastore
      Architecture (NMDA)</xref>. This means that the data models do not have
      separate top-level or sibling containers for configuration data and
      operational state data.</t> 

      <section numbered="true" toc="default">
        <name>Tree Diagrams</name>
        <t>This document uses the graphical representation of data models, as defined in
            <xref target="RFC8340" format="default"/>.</t>
      </section>
    </section>
    <section anchor="DESIGN-DATA" numbered="true" toc="default">
      <name>Design of the Data Model</name>
      <t>Since BFD is used for liveness detection of various forwarding
      paths, there is no uniform key to identify a BFD session, and so the BFD
      data model is split into multiple YANG modules where each module
      corresponds to one type of forwarding path. For example, BFD for IP
      single-hop is in one YANG module, and BFD for MPLS is in another YANG
      module. The main difference between these modules is how a BFD session
      is uniquely identified, i.e., the key for the list containing the BFD
      sessions for that forwarding path. To avoid duplication of BFD
      definitions, we have common types and groupings that are used by all
      the modules.</t>
      <t>A new control-plane protocol, "bfdv1", is defined, and a "bfd" container
      is created under "control-plane-protocol" as specified in <xref
      target="RFC8349" format="default">"A YANG Data Model for Routing
      Management (NMDA Version)"</xref>. This new "bfd" container is augmented
      by the following YANG modules for their respective specific information:
      </t> 
      <ol spacing="normal" type="1">
        <li>The "ietf-bfd-ip-sh" module (<xref target="bfd-ip-single-hop-module"/>) augments
          "/routing/control-plane-protocols/control-plane-protocol/bfd/" with
          the "ip-sh" container for BFD sessions over IP single-hop.</li>
        <li>The "ietf-bfd-ip-mh" module (<xref target="bfd-ip-multihop-module"/>) augments
          "/routing/control-plane-protocols/control-plane-protocol/bfd/" with
          the "ip-mh" container for BFD sessions over IP multihop.</li>
        <li>The "ietf-bfd-lag" module (<xref target="bfd-over-lag-module"/>) augments
          "/routing/control-plane-protocols/control-plane-protocol/bfd/" with
          the "lag" container for BFD sessions over a LAG.</li>
        <li>The "ietf-bfd-mpls" module (<xref target="bfd-over-mpls-module"/>) augments
          "/routing/control-plane-protocols/control-plane-protocol/bfd/" with
          the "mpls" container for BFD-over-MPLS LSPs.</li>
      </ol>
      <t>BFD can operate in the following contexts:</t>
      <ol spacing="normal" type="1">
        <li>At the network device level.</li>
        <li>In logical network elements (LNEs) as described in <xref
        target="RFC8530" format="default">"YANG Model for Logical Network Elements"</xref>.</li>
        <li>In network instances as described in <xref
        target="RFC8529" format="default">"YANG Data Model for Network Instances"</xref>.</li> 
      </ol>
      <t> When used at the network device level, the BFD YANG data model is
        used "as is". When the BFD YANG data model is used in an LNE or network instance, the BFD YANG data model augments
        the mounted routing model for the LNE or network instance.

<!-- [rfced] Sections 2, 2.1.4, 2.1.6, and 2.3:  Per guidance from
Benoit Claise and the YANG Doctors that "YANG module" and "YANG data
model" are preferred, we have updated the following sentences
accordingly.  Please review, and let us know any concerns.

Original:
 When used at the network device level, the BFD YANG model is used
 "as-is".  When the BFD YANG model is used in a Logical Network
 Element or in a Network Instance, then the BFD YANG model augments
 the mounted routing model for the Logical Network Element or the
 Network Instance.
...
 For BFD
 parameters which are specific to the TE application, e.g. whether to
 tear down the tunnel in the event of a BFD session failure, these
 parameters will be defined in the YANG model of the MPLS-TE
 application.
...
 However there is no LAG YANG model which we can augment.
...
 This YANG model defines notifications to inform end-users of
 important events detected during the protocol operation.

Currently (we defined "LNE" in Section 2):
 When used at the network device level, the BFD YANG data model is
 used "as is".  When the BFD YANG data model is used in an LNE or
 network instance, the BFD YANG data model augments the mounted
 routing model for the LNE or network instance.
...
 In the case of BFD parameters that are
 specific to the TE application, e.g., whether to tear down the tunnel
 in the event of a BFD session failure, these parameters will be
 defined in the YANG data model for the MPLS-TE application.
...
 However, there is no LAG YANG data model that we can augment.
...
 This YANG data model defines notifications to inform end users of
 important events detected during the protocol operation. -->

</t>
      <section anchor="CFG-MODEL" numbered="true" toc="default">
        <name>Design of the Configuration Model</name>
        <t>The configuration model consists mainly of the parameters specified
        in <xref target="RFC5880" format="default">BFD</xref> -- for example, desired
        minimum transmit interval, required minimum receive interval,
        detection multiplier.</t>
        <t>BFD clients are applications that use BFD for fast detection of
        failures. Some implementations have BFD session configuration under
        the BFD clients -- for example, BFD session configuration under routing
        applications such as OSPF, IS-IS, or BGP. Other implementations have
        BFD session configuration centralized under BFD, i.e., outside the
        multiple BFD clients.</t>
        <t>The main BFD parameters of interest to a BFD client are those
        related to the
        multiplier and interval(s), since those parameters impact the
        convergence time of the BFD clients when a failure occurs. Other
        parameters, such as BFD authentication, are not specific to the
        requirements of the BFD client. Configuration of BFD for all
	clients should be centralized. However, this is a problem for BFD clients
        that auto-discover their peers. For example, IGPs do not have the
        peer address configured; instead, the IGP is enabled on an interface,
        and the IGP peers are auto-discovered. So, for an operator to configure
        BFD to an IGP peer, the operator would first have to determine the
        peer addresses. And when a new peer is discovered, BFD configuration
        would need to be added. To avoid this issue, we define the grouping
        "client-cfg-parms" in <xref target="BFD-TYPES" format="default"/> for BFD clients to
        configure BFD: this allows BFD clients, such as the IGPs, to have
        configuration (multiplier and intervals) for the BFD sessions they
        need. For example, when a new IGP peer is discovered, the IGP would
        create a BFD session to the newly discovered peer; similarly, when
        an IGP peer goes away, the IGP would remove the BFD session to that
        peer. The mechanism for how the BFD sessions are created and removed by
        the BFD clients is outside the scope of this document, but
        this would typically be done by using an API implemented by the BFD module on
        the system. In the case of BFD clients that create BFD sessions via their own
        configuration, authentication parameters (if required) are still
        specified in BFD.</t>
        <section anchor="BFD-COMMON-CFG" numbered="true" toc="default">
          <name>Common BFD Configuration Parameters</name>
          <t>The basic BFD configuration parameters are as follows:</t>
          <dl newline="true" spacing="normal">
            <dt>local-multiplier</dt>
            <dd>This is the detection time multiplier as defined in <xref
            target="RFC5880" format="default">BFD</xref>.</dd> 
            <dt>desired-min-tx-interval</dt>
            <dd>This is the Desired Min TX Interval as defined in <xref
            target="RFC5880" format="default">BFD</xref>.</dd> 
            <dt>required-min-rx-interval</dt>
            <dd>This is the Required Min RX Interval as defined in <xref
            target="RFC5880" format="default">BFD</xref>.</dd> 
          </dl>
          <t>Although <xref target="RFC5880" format="default">BFD</xref>
          allows for different values for transmit and receive intervals, some 
          implementations allow users to specify just one interval that is
          used for both transmit and receive intervals, or separate values for
          transmit and receive intervals. The BFD YANG data model supports this:
          there is a choice between "min-interval", used for both transmit and
          receive intervals, and "desired-min-tx-interval" and
          "required-min-rx-interval". This is supported via the
          "base-cfg-parms" grouping (<xref target="BFD-TYPES"/>), which
          is used by the YANG modules for the various forwarding paths.</t>
          <t>For BFD authentication, we have the following:</t>
          <dl newline="true" spacing="normal">
            <dt>key-chain</dt>
            <dd>This is a reference to "key-chain" as defined in <xref
            target="RFC8177" format="default">"YANG Data Model for Key
            Chains"</xref>. The keys, cryptographic algorithms, key lifetime,
            etc. are all defined in the "key-chain" model.</dd> 
            <dt>meticulous</dt>
            <dd>This enables a meticulous mode as per <xref target="RFC5880"
            format="default">BFD </xref>.</dd> 
          </dl>
        </section>
        <section anchor="IP-SH-CFG" numbered="true" toc="default">
          <name>Single-Hop IP</name>
          <t>For single-hop IP, there is an augment of the "bfd" data node, as
          described in 
          <xref target="DESIGN-DATA" format="default"/>. The "ip-sh" node
          contains a list of IP single-hop sessions where each session is
          uniquely identified by the interface and destination address
          pair. We use the configuration parameters defined in
          <xref target="BFD-COMMON-CFG" format="default"/>. The "ip-sh" node
          also contains a list of interfaces and is used to specify
          authentication parameters for BFD sessions that are created by BFD
          clients. See <xref target="CFG-MODEL" format="default"/>.</t> 
          <t><xref target="RFC5880" format="default"/> and <xref
          target="RFC5881" format="default"/> do not specify whether
          the Echo function operates continuously or on demand. Therefore, the mechanism used to
          start and stop the Echo function is implementation specific and should
          be done by augmentation:</t> 
          <ol spacing="normal" type="1">
            <li>Configuration. This is suitable for an Echo function that
            operates continuously. An example is provided in <xref target="ECHO-CONFIG"
            format="default"/>.</li> 
            <li>RPC. This is suitable for an Echo function that operates 
            on demand.</li>
          </ol>
        </section>
        <section numbered="true" toc="default">
          <name>Multihop IP</name>
          <t>For multihop IP, there is an augment of the "bfd" data node, as described in
          <xref target="DESIGN-DATA" format="default"/>.</t>
          <t>Because of multiple paths, there could be multiple multihop IP
          sessions between a source and a destination address. We identify
          this set of sessions as a "session-group". The key for each "session-group" consists
          of the following:</t>
          <dl newline="true" spacing="normal">
            <dt>Source address</dt>
            <dd>Address belonging to the local system as per <xref
            target="RFC5883" format="default">"Bidirectional Forwarding
            Detection (BFD) for Multihop Paths"</xref>.</dd> 
            <dt>Destination address</dt>
            <dd>Address belonging to the remote system as per <xref
            target="RFC5883" format="default"></xref>.</dd> 
          </dl>
          <t>We use the configuration parameters defined in <xref
          target="BFD-COMMON-CFG" format="default"/>.</t> 
          <t>This document also provides the following parameters:</t>
          <dl newline="true" spacing="normal">
            <dt>tx-ttl</dt>
            <dd>TTL of outgoing BFD control packets.</dd>
            <dt>rx-ttl</dt>
            <dd>Minimum TTL of incoming BFD control packets.</dd>
          </dl>
        </section>
        <section numbered="true" toc="default">
          <name>MPLS Label Switched Paths</name>
          <t>Here, we address MPLS LSPs whose 
          Forwarding Equivalence Class (FEC) <xref target="RFC3031"/> is an IP
	  address.

<!-- [rfced] We are revisiting this question, and subsequent replies
(listed below in chronological order), from October 2020.  Please 
review and advise.

7) Section 2.1.5:  For ease of the reader, may we define
   "FEC" as "Forwarding Equivalence Class" here?
<RR> Correct.

   Also, should "whose FEC", "an MPLS FEC", "per MPLS FEC", "1 FEC",
   and '"MPLS FEC."' be "whose FEC Element", "an MPLS FEC Element",
   "per MPLS FEC Element", "1 FEC Element", and '"MPLS FEC address."?
   If "yes" to "FEC Element", would it be appropriate to cite RFC 6667
   here and add it to the list of Informative References?

<RR> I've seen both FEC and FEC element used in documents.
Would like to hear from co-authors.  As for informative reference for
FEC, should we add RFC3031?

Mahesh: FEC refers to a class or group of packets that follow the
same path, whereas FEC element, I believe, refers to the rule that
specifies the same path. Most of the references in the document are
to the rule, and not the group of packets. So FEC element makes more
sense to me.

<RR3>I refreshed my memory on that and I believe you are correct.

GIM>> I think that an informative reference to RFC 3031 would be
helpful. Also will note that RFC 3031 does not use "FEC element" but
only FEC term. -->

 The "bfd"
          node (<xref target="DESIGN-DATA" format="default"/>) is augmented
          with "mpls", which contains a list of sessions uniquely identified by
          an IP prefix. Because of multiple paths, there could be multiple
          MPLS sessions to an MPLS FEC. We identify this set of sessions as a
          "session-group".</t> 
          <t>Since these LSPs are unidirectional, there is no LSP
          configuration on the egress node.</t> 
          <t>The BFD parameters for the egress node are added under
          "mpls".</t> 
        </section>
        <section numbered="true" toc="default">
          <name>Link Aggregation Groups</name>
          <t>Per <xref target="RFC7130" format="default">"Bidirectional
          Forwarding Detection (BFD) on Link Aggregation Group (LAG)
          Interfaces"</xref>, configuring BFD on a LAG consists of having micro-BFD
          sessions on each LAG member link. Since the BFD parameters are an
          attribute of the LAG, they should be under the LAG. However, there is
          no LAG YANG data model that we can augment. So, a "lag" data node is
          added to the "bfd" node; see <xref target="DESIGN-DATA"
          format="default"/>. The configuration is per LAG: we have a list of
          LAGs. The destination IP address of the micro-BFD sessions is
          configured per LAG and per address family (IPv4 and IPv6).</t> 
        </section>
      </section>
      <section numbered="true" toc="default">
        <name>Design of the Operational State Model</name>
        <t>The operational state model contains both the overall statistics for
        the BFD sessions running on the device and the per-session operational
        information.</t>
        <t>The overall statistics for the BFD sessions consist of the number of BFD
        sessions, the number of BFD sessions that are up, etc. This information is available
        globally (i.e., for all BFD sessions) under the "bfd" node 
        (<xref target="DESIGN-DATA" format="default"/>) and also per type of
        forwarding path.</t> 
        <t>For each BFD session, three main categories of operational state
        data are shown.</t>

       <ol spacing="normal" type="1">
       <li>The first category includes fundamental information regarding a BFD session, such as
        the local discriminator, the remote discriminator, and the ability to
        support Demand mode.</li>

        <li>The
        second category includes BFD "session-running" information, e.g., the
        remote BFD state and the diagnostic code received. Another example is
        the actual transmit interval between the control packets, which may be
        different from the configured desired minimum transmit
        interval. Similar examples include the actual receive interval
        between the control packets and the actual transmit interval between
        the Echo packets.</li>
        <li> The third category contains the detailed statistics
        for the session, e.g., when the session transitioned up/down and how
        long it has been in that state.</li>
       </ol>

        <t>For some path types, there may be more than one session on the
        virtual path to the destination. For example, with IP multihop and
        MPLS LSPs, there could be multiple BFD sessions from the source to the
        same destination to test the various paths (ECMP) to the destination.
        This is represented by having multiple "sessions" under each
        "session-group".</t>
      </section>
      <section numbered="true" toc="default">
        <name>Notifications</name>
        <t>This YANG data model defines notifications to inform end users of
        important events detected during the protocol operation. The
        local discriminator identifies the corresponding BFD session on the
        local system, and the remote discriminator identifies the BFD session
        on the remote system.
        Notifications also give more important details about BFD sessions,
        e.g., new state, time in previous state, network instance, and the
        reason that the BFD session state changed. The notifications are
        defined for each type of forwarding path but use groupings for common
        information.</t>
      </section>
      <section numbered="true" toc="default">
        <name>RPC Operations</name>
        <t>None.</t>
      </section>
      <section numbered="true" toc="default">
        <name>BFD Top-Level Hierarchy</name>
        <t>At the "bfd" node under "control-plane-protocol", there is no
        configuration data -- only operational state data. The operational state 
        data consists of overall BFD session statistics, i.e., for BFD on all
        types of forwarding paths.</t>
        <sourcecode type="yangtree"><![CDATA[
module: ietf-bfd
  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol:
    +--rw bfd
       +--ro summary
          +--ro number-of-sessions?              yang:gauge32
          +--ro number-of-sessions-up?           yang:gauge32
          +--ro number-of-sessions-down?         yang:gauge32
          +--ro number-of-sessions-admin-down?   yang:gauge32]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>BFD IP Single-Hop Hierarchy</name>
        <t>An "ip-sh" node is added under the "bfd" node in
        "control-plane-protocol". The configuration data and operational state data
        for each BFD IP single-hop session are under this "ip-sh" node.</t>
        <sourcecode type="yangtree"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-ip-sh@YYYY-MM-DD-tree.txt)
]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>BFD IP Multihop Hierarchy</name>
        <t>An "ip-mh" node is added under the "bfd" node in
        "control-plane-protocol". The configuration data and operational state data
        for each BFD IP multihop session are under this "ip-mh" node. In the
        operational state model, we support multiple BFD multihop sessions per
        remote address (ECMP); the local discriminator is used as the key.</t>
<sourcecode type="yangtree"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-ip-mh@YYYY-MM-DD-tree.txt)
]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>BFD-over-LAG Hierarchy</name>
        <t>A "lag" node is added under the "bfd" node in
        "control-plane-protocol". The configuration data and operational state data
        for each BFD LAG session are under this "lag" node.</t>
        <sourcecode type="yangtree"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-lag@YYYY-MM-DD-tree.txt)
]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>BFD-over-MPLS-LSPs Hierarchy</name>
        <t>An "mpls" node is added under the "bfd" node in
        "control-plane-protocol". The configuration is per MPLS FEC under this
        "mpls" node. In the operational state model, we support multiple BFD
        sessions per MPLS FEC (ECMP); the local discriminator is used as the key.
        The "mpls" node can be used in a network device (top level) or can be
        mounted in an LNE or network instance.</t>
        <sourcecode type="yangtree"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-mpls@YYYY-MM-DD-tree.txt)
]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>Interaction with Other YANG Modules</name>
        <t><xref target="RFC8532"
        format="default">"Generic YANG Data Model for the Management
        of Operations, Administration, and Maintenance (OAM) Protocols That
        Use Connectionless Communications"</xref> describes how the 
        Layer-Independent OAM Management in the Multi-Layer Environment (LIME)
        connectionless OAM model could be extended to support BFD.</t>  
        <t>Also, the operation of the BFD data model depends on configuration
        parameters that are defined in other YANG modules.</t>
        <section numbered="true" toc="default">
          <name>&quot;ietf-interfaces&quot; Module</name>
          <t>The following boolean configuration is defined in <xref
          target="RFC8343" format="default">"A YANG Data Model for Interface Management"</xref>:</t> 
          <dl newline="true" spacing="normal">
            <dt>/if:interfaces/if:interface/if:enabled</dt>
            <dd>If this configuration is set to "false", no BFD packets can be
            transmitted or received on that interface.</dd> 
          </dl>
        </section>
        <section numbered="true" toc="default">
          <name>&quot;ietf-ip&quot; Module</name>
          <t>The following boolean configuration is defined in <xref
          target="RFC8344" format="default">"A YANG Data Model for IP Management"</xref>:</t> 
          <dl newline="true" spacing="normal">
            <dt>/if:interfaces/if:interface/ip:ipv4/ip:enabled</dt>
            <dd>If this configuration is set to "false", no BFD IPv4 packets
            can be transmitted or received on that interface.</dd> 
            <dt>/if:interfaces/if:interface/ip:ipv4/ip:forwarding</dt>
            <dd>If this configuration is set to "false", no BFD IPv4 packets
            can be transmitted or received on that interface.</dd> 
            <dt>/if:interfaces/if:interface/ip:ipv6/ip:enabled</dt>
            <dd>If this configuration is set to "false", no BFD IPv6 packets
            can be transmitted or received on that interface.</dd> 
            <dt>/if:interfaces/if:interface/ip:ipv6/ip:forwarding</dt>
            <dd>If this configuration is set to "false", no BFD IPv6 packets
            can be transmitted or received on that interface.</dd> 
          </dl>
        </section>
        <section numbered="true" toc="default">
          <name>&quot;ietf-mpls&quot; Module</name>
          <t>The following boolean configuration is defined in <xref
          target="RFCYYY1" format="default">"A YANG Data Model for MPLS Base"</xref>:</t> 
          <dl newline="true" spacing="normal">
           <dt>/rt:routing/mpls:mpls/mpls:interfaces/mpls:interface/mpls:mpls&nbhy;enabled</dt>
           <dd>If this configuration is set to "false", no BFD MPLS packets
            can be transmitted or received on that interface.</dd> 
          </dl>
        </section>
        <section numbered="true" toc="default">
          <name>&quot;ietf-te&quot; Module</name>
          <t>The following configuration is defined in the "ietf-te" YANG
          module provided in <xref target="RFCYYY2" format="default"> "A YANG Data Model
          for Traffic Engineering Tunnels, Label Switched Paths, and
          Interfaces"</xref>:</t> 
          <dl newline="true" spacing="normal">
            <dt>/ietf-te:te/ietf-te:tunnels/ietf-te:tunnel/ietf-te:admin-state</dt>
            <dd>If this configuration is not set to "tunnel-admin-state-up", no BFD MPLS
            packets can be transmitted or received on that tunnel.</dd> 
          </dl>
        </section>
      </section>
      <section numbered="true" toc="default">
        <name>IANA BFD YANG Module</name>

        <t>This YANG module imports typedefs from <xref target="RFC5880"/> and
      references <xref target="RFC6428"/>.</t>

        <sourcecode name="iana-bfd-types@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/iana-bfd-types@YYYY-MM-DD.yang)
]]></sourcecode>

<!-- [rfced] Sections 2.12 through 2.19:  Please note that we added
several 'reference "RFC ..." entries in these sections where such
entries appeared to be missing.  Please review, and let us know any
objections. -->

      </section>
      <section anchor="BFD-TYPES" numbered="true" toc="default">
        <name>BFD Types YANG Module</name>
        <t>This YANG module imports typedefs from <xref target="RFC6991"
        format="default"/> and <xref target="RFC8177" format="default"/>.
        It also imports definitions from
        <xref target="RFC5880"/>, <xref target="RFC5881"/>,
        <xref target="RFC5883"/>, <xref target="RFC5884"/>, and
        <xref target="RFC7130"/>, as well as the
        "control-plane-protocol" identity from
        <xref target="RFC8349"/>.

<!-- Reviewer:  The "default tx-rx-intervals;" entry was added by the
     authors in an XML file sent to us post-approval.  The AQ for the
     AD is below. -->
</t> 
        <sourcecode name="ietf-bfd-types@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-types@YYYY-MM-DD.yang)
]]></sourcecode>

<!-- [rfced] *[AD]:  Section 2.13:  The following update was made by
the authors after this document was added to our queue.  Please
review, and let us know if you approve.

Original:
 choice interval-config-type {
   description
     "Two interval values or one value used for both transmit and
      receive.";
   case tx-rx-intervals {
...

Currently:
 choice interval-config-type {
   default tx-rx-intervals;
   description
     "Two interval values or one value used for both transmit and
      receive.";
   case tx-rx-intervals {
... -->

      </section>
      <section numbered="true" toc="default">
        <name>BFD Top-Level YANG Module</name>
        <t>This YANG module imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from <xref
        target="RFC8349" format="default"/>. It also references
        <xref target="RFC5880"/>.</t> 
        <sourcecode name="ietf-bfd@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd@YYYY-MM-DD.yang)
]]></sourcecode>
      </section>
      <section anchor="bfd-ip-single-hop-module" numbered="true" toc="default">
        <name>BFD IP Single-Hop YANG Module</name>
        <t>This YANG module imports "interface-ref" from <xref
        target="RFC8343" format="default"/> and typedefs from <xref
        target="RFC6991" format="default"/>.  It also imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from <xref
        target="RFC8349" format="default"/>, and it references
        <xref target="RFC5881"/>.</t> 
        <sourcecode name="ietf-bfd-ip-sh@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-ip-sh@YYYY-MM-DD.yang)
]]></sourcecode>
      </section>
      <section anchor="bfd-ip-multihop-module" numbered="true" toc="default">
        <name>BFD IP Multihop YANG Module</name>
        <t>This YANG module imports typedefs from
        <xref target="RFC6991" format="default"/>. It also imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from <xref
        target="RFC8349" format="default"/>, and it references
        <xref target="RFC5883"/>.</t> 
        <sourcecode name="ietf-bfd-ip-mh@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-ip-mh@YYYY-MM-DD.yang)
]]></sourcecode>
      </section>
      <section anchor="bfd-over-lag-module" numbered="true" toc="default">
        <name>BFD-over-LAG YANG Module</name>
        <t>This YANG module imports "interface-ref" from <xref
        target="RFC8343" format="default"/> and typedefs from <xref
        target="RFC6991" format="default"/>.  It also imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from <xref
        target="RFC8349" format="default"/>. Additionally, it references
        <xref target="RFC7130"/>.</t> 
        <sourcecode name="ietf-bfd-lag@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-lag@YYYY-MM-DD.yang)
]]></sourcecode>
      </section>
      <section anchor="bfd-over-mpls-module" numbered="true" toc="default">
        <name>BFD-over-MPLS YANG Module</name>
        <t>This YANG module imports typedefs from <xref target="RFC6991"
        format="default"/>. It also imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from <xref
        target="RFC8349" format="default"/>.
        Additionally, it references <xref target="RFC5586"/> and
        <xref target="RFC5884"/>.</t> 
        <sourcecode name="ietf-bfd-mpls@YYYY-MM-DD.yang" type="yang" markers="true"><![CDATA[
INSERT_TEXT_FROM_FILE(../src/yang/ietf-bfd-mpls@YYYY-MM-DD.yang)
]]></sourcecode>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Data Model Examples</name>
      <t>This section presents some simple and illustrative examples of how to
      configure BFD.</t>
      <t>The examples are represented in XML <xref target="W3C.REC-xml-20081126"/>.</t>

<!-- [rfced] Authors and [AD]:  Section 3:  Per
<https://ietf.org/about/groups/iesg/statements/formal-languages-use/>,
we have added a textual citation for [W3C.REC-xml-20081126] and
added [W3C.REC-xml-20081126] to the list of Normative References.
Please let us know any concerns.

Original:
 3.  Data Model examples

    This section presents some simple and illustrative examples on how to
    configure BFD.

Currently:
 3.  Data Model Examples

    This section presents some simple and illustrative examples of how to
    configure BFD.

    The examples are represented in XML [W3C.REC-xml-20081126].
...
 [W3C.REC-xml-20081126]
            Bray, T., Paoli, J., Sperberg-McQueen, M., Maler, E., and
            F. Yergeau, "Extensible Markup Language (XML) 1.0 (Fifth
            Edition)", World Wide Web Consortium Recommendation REC-
            xml-20081126, November 2008,
            <https://www.w3.org/TR/2008/REC-xml-20081126>. -->

      <section numbered="true" toc="default">
        <name>IP Single-Hop</name>
        <t>The following is an example configuration for a BFD IP single-hop
        session. The desired transmit interval and the required receive
        interval are both set to 10 ms.</t> 
<sourcecode type="xml"><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
  <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
    <interface>
      <name>eth0</name>
      <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">
        ianaift:ethernetCsmacd
      </type>
    </interface>
  </interfaces>
  <routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing">
    <control-plane-protocols>
      <control-plane-protocol>
        <type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types">
          bfd-types:bfdv1
        </type>
        <name>name:BFD</name>
        <bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd">
          <ip-sh xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh">
            <sessions>
              <session>
                <interface>eth0</interface>
                <dest-addr>2001:db8:0:113::101</dest-addr>
                <desired-min-tx-interval>
                  10000
                </desired-min-tx-interval>
                <required-min-rx-interval>
                  10000
                </required-min-rx-interval>
              </session>
            </sessions>
          </ip-sh>
        </bfd>
      </control-plane-protocol>
    </control-plane-protocols>
  </routing>
</config>]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>IP Multihop</name>
        <t>The following is an example configuration for a BFD IP multihop
        session group. The desired transmit interval and the required receive
        interval are both set to 150 ms.</t>
<sourcecode type="xml"><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
  <routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing">
    <control-plane-protocols>
      <control-plane-protocol>
        <type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types">
          bfd-types:bfdv1
        </type>
        <name>name:BFD</name>
        <bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd">
          <ip-mh xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-ip-mh">
            <session-groups>
              <session-group>
                <source-addr>2001:db8:0:113::103</source-addr>
                <dest-addr>2001:db8:0:114::100</dest-addr>
                <desired-min-tx-interval>
                  150000
                </desired-min-tx-interval>
                <required-min-rx-interval>
                  150000
                </required-min-rx-interval>
                <rx-ttl>240</rx-ttl>
              </session-group>
            </session-groups>
          </ip-mh>
        </bfd>
      </control-plane-protocol>
    </control-plane-protocols>
  </routing>
</config>]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>LAG</name>
        <t>The following is an example of BFD configuration for a LAG session.
        In this case, an interface named "Bundle-Ether1" of interface type
        "ieee8023adLag" has a desired transmit interval and required receive interval
        set to 10 ms.</t>
<sourcecode type="xml"><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
  <interfaces xmlns="urn:ietf:params:xml:ns:yang:ietf-interfaces">
    <interface>
      <name>Bundle-Ether1</name>
      <type xmlns:ianaift="urn:ietf:params:xml:ns:yang:iana-if-type">
        ianaift:ieee8023adLag
      </type>
    </interface>
  </interfaces>
  <routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing">
    <control-plane-protocols>
      <control-plane-protocol>
        <type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types">
          bfd-types:bfdv1
        </type>
        <name>name:BFD</name>
        <bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd">
          <lag xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-lag">
            <sessions>
              <session>
                <lag-name>Bundle-Ether1</lag-name>
                <ipv6-dest-addr>2001:db8:112::16</ipv6-dest-addr>
                <desired-min-tx-interval>
                  100000
                </desired-min-tx-interval>
                <required-min-rx-interval>
                  100000
                </required-min-rx-interval>
                <use-ipv6>true</use-ipv6>
              </session>
            </sessions>
          </lag>
        </bfd>
      </control-plane-protocol>
    </control-plane-protocols>
  </routing>
</config>]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>MPLS</name>
        <t>The following is an example of BFD configured for an MPLS LSP. In
        this case, the desired transmit interval and required receive interval
        are both set to 250 ms.</t>
<sourcecode type="xml"><![CDATA[
<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
  <routing xmlns="urn:ietf:params:xml:ns:yang:ietf-routing">
    <control-plane-protocols>
      <control-plane-protocol>
        <type xmlns:bfd-types=
            "urn:ietf:params:xml:ns:yang:ietf-bfd-types">
          bfd-types:bfdv1
        </type>
        <name>name:BFD</name>
        <bfd xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd">
          <mpls xmlns="urn:ietf:params:xml:ns:yang:ietf-bfd-mpls">
            <session-groups>
              <session-group>
                <mpls-fec>2001:db8:114::/116</mpls-fec>
                <desired-min-tx-interval>
                  250000
                </desired-min-tx-interval>
                <required-min-rx-interval>
                  250000
                </required-min-rx-interval>
              </session-group>
            </session-groups>
          </mpls>
        </bfd>
      </control-plane-protocol>
    </control-plane-protocols>
  </routing>
</config>]]></sourcecode>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Security Considerations</name>
<!-- Begin YANG security DNE paragraphs 1 and 2 (fixed per boilerplate) -->
     <t>The YANG modules specified in this document define a schema for data
that is designed to be accessed via network management protocols such
as NETCONF <xref target="RFC6241"/> or RESTCONF <xref target="RFC8040"/>.
The lowest NETCONF layer is the secure transport layer, and the
mandatory-to-implement secure transport is Secure Shell (SSH)
<xref target="RFC6242"/>. The lowest RESTCONF layer is HTTPS, and the
mandatory-to-implement secure transport is TLS <xref target="RFC8446"/>.</t>
     <t>The Network Configuration Access Control Model (NACM) <xref target="RFC8341"/>
provides the means to restrict access for particular NETCONF or RESTCONF users
to a preconfigured subset of all available NETCONF or RESTCONF protocol
operations and content.</t>
<!-- End YANG security DNE text (paragraphs 1 and 2) -->
<!-- Begin YANG security DNE paragraph 3 (OK) -->
     <t>There are a number of data nodes defined in these YANG modules that are
writable/creatable/deletable (i.e., config true, which is the default). These
data nodes may be considered sensitive or vulnerable in some network
environments. Write operations (e.g., edit-config) to these data nodes without
proper protection can have a negative effect on network operations. These are
the subtrees and data nodes and their sensitivity/vulnerability:</t>
<!-- End YANG security DNE paragraph 3 -->
      <dl newline="true" spacing="normal">
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/sessions:</dt>
      <dd><t>This list specifies the IP single-hop BFD sessions.</t>
      <t>Data nodes "local-multiplier", "desired-min-tx-interval",
      "required-min-rx-interval", and "min-interval" all impact the
      BFD IP single-hop session. The "source-addr" and "dest-addr" data nodes can be used to
      send BFD packets to unwitting recipients. <xref target="RFC5880"
      format="default"/> describes how BFD mitigates such
      threats. Authentication data nodes "key-chain" and "meticulous" impact the
      security of the BFD IP single-hop session.</t></dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/session-group:</dt>
      <dd><t>This list specifies the IP multihop BFD session groups.</t>
      <t>Data nodes "local-multiplier", "desired-min-tx-interval",
      "required-min-rx-interval", and "min-interval" all impact the
      BFD IP multihop session. The "source-addr" and "dest-addr" data nodes can be used to
      send BFD packets to unwitting recipients. <xref target="RFC5880"
      format="default"/> describes how BFD mitigates such
      threats. Authentication data nodes "key-chain" and "meticulous" impact the
      security of the BFD IP multihop session.</t></dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/lag/sessions:</dt>
      <dd><t>This list specifies the BFD sessions over a LAG.</t>
      <t>Data nodes "local-multiplier", "desired-min-tx-interval",
      "required-min-rx-interval", and "min-interval" all impact the BFD-over-LAG
      session. The "ipv4-dest-addr" and "ipv6-dest-addr" data nodes can be used to
      send BFD packets to unwitting recipients. <xref target="RFC5880"
      format="default"/> describes how BFD mitigates such
      threats. Authentication data nodes "key-chain" and "meticulous" impact the
      security of the BFD-over-LAG session.</t></dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/session-group:</dt>
      <dd><t>This list specifies the session groups for BFD over MPLS.</t>
      <t>Data nodes "local-multiplier", "desired-min-tx-interval",
      "required-min-rx-interval", and "min-interval" all impact the
      BFD-over-MPLS-LSPs session. Authentication data nodes "key-chain" and "meticulous" impact
      the security of the BFD-over-MPLS-LSPs session.</t></dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/egress:</dt>
      <dd>Data nodes "local-multiplier", "desired-min-tx-interval",
      "required-min-rx-interval", and "min-interval" all impact the
      BFD-over-MPLS-LSPs sessions for which this device is an MPLS LSP egress
      node. Authentication data nodes "key-chain" and "meticulous" impact the
      security of the BFD-over-MPLS-LSPs sessions for which this device is an
      MPLS LSP egress node.</dd> 
    </dl>
      <t>The YANG modules have writable data nodes that can be used for the
      creation of BFD sessions and the modification of BFD session parameters. The
      system should "police" the creation of BFD sessions to prevent new sessions
      from causing existing BFD sessions to fail. In the case of BFD session
      modification, the BFD protocol has mechanisms in place that allow for
      in-service modification.</t>
      <t>When BFD clients are used to modify BFD configuration (as described
      in <xref target="CFG-MODEL" format="default"/>), the BFD clients need to
      be included in an analysis of the security properties of the system that
      uses BFD (e.g., when considering the authentication and authorization of
      control actions). In many cases, BFD is not the most vulnerable portion
      of such a composite system, since BFD is limited to generating
      well-defined traffic at a fixed rate on a given path; in the case of an
      IGP acting as a BFD client, attacking the IGP could cause more broad-scale
      disruption than would (de)configuring a BFD session.</t> 
<!-- Begin YANG security DNE paragraph 4 (OK) -->
      <t>Some of the readable data nodes in these YANG modules may be considered
      sensitive or vulnerable in some network environments. It is thus
      important to control read access (e.g., via get, get-config, or
      notification) to these data nodes. These are the subtrees and data nodes
      and their sensitivity/vulnerability:</t>
<!-- End YANG security DNE paragraph 4 -->
      <dl newline="true" spacing="normal">
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/summary:</dt>
      <dd>Access to this information discloses the number of BFD IP single-hop
      sessions that are in the "up", "down", or "admin-down" state. The counters include BFD
      sessions for which the user does not have read access.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-sh/sessions/session/:</dt>
      <dd>Access to data nodes "local-discriminator" and "remote-discriminator"
      (combined with the data nodes in the authentication container) provides the
      ability to spoof BFD IP single-hop packets.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/summary:</dt>
      <dd>Access to this information discloses the number of BFD IP multihop
      sessions that are in the "up", "down", or "admin-down" state. The counters include BFD
      sessions for which the user does not have read access.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/ip-mh/session-groups/session-group/sessions:</dt>
      <dd>Access to data nodes "local-discriminator" and "remote-discriminator"
      (combined with the data nodes in the session group's authentication container) provides the
      ability to spoof BFD IP multihop packets.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/lag/micro-bfd-ipv4-session-statistics/summary:</dt>
      <dd>Access to this information discloses the number of micro-BFD IPv4 LAG
      sessions that are in the "up", "down", or "admin-down" state. The counters include BFD
      sessions for which the user does not have read access.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/lag/sessions/session/member-links/member-link/micro-bfd-ipv4:</dt>
      <dd>Access to data nodes "local-discriminator" and "remote-discriminator"
      (combined with the data nodes in the session's authentication container) provides the
      ability to spoof BFD IPv4 LAG packets.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/lag/micro-bfd-ipv6-session-statistics/summary:</dt>
      <dd>Access to this information discloses the number of micro-BFD IPv6 LAG
      sessions that are in the "up", "down", or "admin-down" state. The counters include BFD
      sessions for which the user does not have read access.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/lag/sessions/session/member-links/member-link/micro-bfd-ipv6:</dt>
      <dd>Access to data nodes "local-discriminator" and "remote-discriminator"
      (combined with the data nodes in the session's authentication container) provides the
      ability to spoof BFD IPv6 LAG packets.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/summary:</dt>
      <dd>Access to this information discloses the number of BFD sessions over
      MPLS LSPs that are in the "up", "down", or "admin-down" state. The counters include BFD
      sessions for which the user does not have read access.</dd>
      <dt>/routing/control-plane-protocols/control-plane-protocol/bfd/mpls/session-groups/session-group/sessions:</dt>
      <dd>Access to data nodes "local-discriminator" and "remote-discriminator"
      (combined with the data nodes in the session group's authentication container) provides the
      ability to spoof BFD-over-MPLS-LSPs packets.</dd>
      </dl>
    </section>

<!-- [rfced] Authors and [AD]:  Section 4:  Please note that we have
updated the first two paragraphs of this section, per 
<https://trac.ietf.org/trac/ops/wiki/yang-security-guidelines>, and
will need AD approval for these updates.  Please review, and let us
know any concerns.

AD:  We also see that "paragraph 5", which discusses RPC, is not
included in this document.  Please review
<https://trac.ietf.org/trac/ops/wiki/yang-security-guidelines>,
and confirm that security considerations for RPC are not applicable
to this document.  (We ask because we see "RPC.  This is suitable for
on-demand echo function" in Section 2.1.2.)

Original:
 The YANG module specified in this document defines a schema for data
 that is designed to be accessed via network management protocols such
 as NETCONF [RFC6241] or RESTCONF [RFC8040].  The lowest NETCONF layer
 is the secure transport layer, and the mandatory-to-implement secure
 transport is Secure Shell (SSH) [RFC6242].  The lowest RESTCONF layer
 is HTTPS, and the mandatory-to-implement secure transport is TLS
 [RFC5246].

 The NETCONF access control model [RFC6536] provides the means to
 restrict access for particular NETCONF or RESTCONF users to a
 preconfigured subset of all available NETCONF or RESTCONF protocol
 operations and content.

Currently:
 The YANG modules specified in this document define a schema for data
 that is designed to be accessed via network management protocols such
 as NETCONF [RFC6241] or RESTCONF [RFC8040].  The lowest NETCONF layer
 is the secure transport layer, and the mandatory-to-implement secure
 transport is Secure Shell (SSH) [RFC6242].  The lowest RESTCONF layer
 is HTTPS, and the mandatory-to-implement secure transport is TLS
 [RFC8446].

 The Network Configuration Access Control Model (NACM) [RFC8341]
 provides the means to restrict access for particular NETCONF or
 RESTCONF users to a preconfigured subset of all available NETCONF or
 RESTCONF protocol operations and content. -->

    <section numbered="true" toc="default">
      <name>IANA Considerations</name>
      <t>This document registers the following namespace URIs in the "IETF XML
      Registry" <xref target="RFC3688" format="default"/>:</t>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt> 
      <dd>urn:ietf:params:xml:ns:yang:iana-bfd-types</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-types</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
    </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
<!-- [IANA FLAG] Changed "ietf-bfd-mh" to "ietf-bfd-ip-mh" per IANA email -->
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-ip-mh</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-lag</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>URI:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-mpls</dd>
      <dt>Registrant Contact:</dt>
      <dd>The IESG.</dd>
      <dt>XML:</dt>
      <dd>N/A; the requested URI is an XML namespace.</dd>
      </dl>

      <t>This document registers the following YANG modules in the "YANG Module Names"
      registry <xref target="RFC6020" format="default"/>:</t>
      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>iana-bfd-types</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:iana-bfd-types</dd>
      <dt>Prefix:</dt>
      <dd>iana-bfd-types</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd-types</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-types</dd>
      <dt>Prefix:</dt>
      <dd>bfd-types</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd</dd>
      <dt>Prefix:</dt>
      <dd>bfd</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd-ip-sh</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-ip-sh</dd>
      <dt>Prefix:</dt>
      <dd>bfd-ip-sh</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd-ip-mh</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-ip-mh</dd>
      <dt>Prefix:</dt>
      <dd>bfd-ip-mh</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd-lag</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-lag</dd>
      <dt>Prefix:</dt>
      <dd>bfd-lag</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <dl newline="false" spacing="compact">
      <dt>Name:</dt>
      <dd>ietf-bfd-mpls</dd>
      <dt>Namespace:</dt>
      <dd>urn:ietf:params:xml:ns:yang:ietf-bfd-mpls</dd>
      <dt>Prefix:</dt>
      <dd>bfd-mpls</dd>
      <dt>Reference:</dt>
      <dd>RFC 0000</dd>
      </dl>

      <section numbered="true" toc="default">
        <name>IANA-Maintained &quot;iana-bfd-types&quot; Module</name>
        <t>This document defines the initial version of the IANA-maintained
        "iana-bfd-types" YANG module.</t>
        <t>The "iana-bfd-types" YANG module mirrors the "BFD Diagnostic Codes"
        and "BFD Authentication Types" registries at
        <eref target="https://www.iana.org/assignments/bfd-parameters/" brackets="angle"/>. Whenever
        these registries change, IANA must update the "iana-bfd-types" YANG
        module.</t> 
      </section>
    </section>
  </middle>
  <back>
    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3688.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5880.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5881.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5882.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5883.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5884.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5885.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5586.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6020.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6241.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6242.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6991.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7130.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8040.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8177.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8340.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8341.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8343.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8344.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8349.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8446.xml"/>

<!-- draft-ietf-mpls-base-yang (Not in queue as of 9/1/2020) -->
<reference anchor='RFCYYY1'>
<front>
<title>A YANG Data Model for MPLS Base</title>
<author initials='T' surname='Saad' fullname='Tarek Saad'>
    <organization />
</author>
<author initials='K' surname='Raza' fullname='Kamran Raza'>
    <organization />
</author>
<author initials='R' surname='Gandhi' fullname='Rakesh Gandhi'>
    <organization />
</author>
<author initials='X' surname='Liu' fullname='Xufeng Liu'>
    <organization />
</author>
<author initials='V' surname='Beeram' fullname='Vishnu Beeram'>
    <organization />
</author>
<date month='November' year='2020' />
</front>
<seriesInfo name="RFC" value="YYY1"/>
<seriesInfo name="DOI" value="10.17487/RFCYYY1"/>
</reference>

<!-- draft-ietf-teas-yang-te (Not in queue as of 9/1/2020)
     Note:  Since we can't publish this document without
     RFC YYY2, which will first be edited by us, I added the
     series comma after "Paths" per RFC Ed. style (and expect that
     whoever edits YYY2 will add the series comma at that time.) -->
<reference anchor='RFCYYY2'>
<front>
<title>A YANG Data Model for Traffic Engineering Tunnels, Label Switched Paths, and Interfaces</title>
<author initials='T' surname='Saad' fullname='Tarek Saad'>
    <organization />
</author>
<author initials='R' surname='Gandhi' fullname='Rakesh Gandhi'>
    <organization />
</author>
<author initials='X' surname='Liu' fullname='Xufeng Liu'>
    <organization />
</author>
<author initials='V' surname='Beeram' fullname='Vishnu Beeram'>
    <organization />
</author>
<author initials='I' surname='Bryskin' fullname='Igor Bryskin'>
    <organization />
</author>
<date month='November' year='2020' />
</front>
<seriesInfo name="RFC" value="YYY2"/>
<seriesInfo name="DOI" value="10.17487/RFCYYY2"/>
</reference>

     <reference anchor='W3C.REC-xml-20081126'
         target='https://www.w3.org/TR/2008/REC-xml-20081126'>
     <front>
     <title>Extensible Markup Language (XML) 1.0 (Fifth Edition)</title>
     <author initials='T.' surname='Bray' fullname='Tim Bray'>
         <organization />
     </author>
     <author initials='J.' surname='Paoli' fullname='Jean Paoli'>
         <organization />
     </author>
     <author initials='M.' surname='Sperberg-McQueen' fullname='Michael Sperberg-McQueen'>
         <organization />
     </author>
     <author initials='E.' surname='Maler' fullname='Eve Maler'>
         <organization />
     </author>
     <author initials='F.' surname='Yergeau' fullname='Francois Yergeau'>
         <organization />
     </author>
     <date month='November' year='2008' />
     </front>
     <refcontent>World Wide Web Consortium Recommendation REC-xml-20081126</refcontent>
     </reference>

      </references>
      <references>
        <name>Informative References</name>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3031.xml"/>

<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6428.xml"/>

<!-- draft-ietf-rtgwg-ni-model (RFC 8529) -->
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8529.xml"/>

<!-- draft-ietf-rtgwg-lne-model (RFC 8530) -->
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8530.xml"/>

<!-- draft-ietf-lime-yang-connectionless-oam (RFC 8532) -->
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8532.xml"/>
        <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8342.xml"/>
      </references>
    </references>
    <section anchor="ECHO-CONFIG" numbered="true" toc="default">
      <name>Echo Function Configuration Example</name>
      <t>As mentioned in <xref target="IP-SH-CFG" format="default"/>, the mechanism to start
      and stop the Echo function, as defined in <xref target="RFC5880"
      format="default"/> and discussed in 
      <xref target="RFC5881" format="default"/>, is implementation specific. In this appendix, we
      provide an example of how the Echo function can be implemented via
      configuration.</t>
      <sourcecode type="yangtree"><![CDATA[
module: example-bfd-echo
  augment /rt:routing/rt:control-plane-protocols
            /rt:control-plane-protocol/bfd:bfd/bfd-ip-sh:ip-sh
            /bfd-ip-sh:sessions:
    +--rw echo {bfd-types:echo-mode}?
       +--rw desired-min-echo-tx-interval?    uint32
       +--rw required-min-echo-rx-interval?   uint32]]></sourcecode>
      <section numbered="true" toc="default">
        <name>Example YANG Module for BFD Echo Function Configuration</name>
        <t>This appendix provides an example YANG module for
        configuration of the BFD Echo function.  It imports and augments
        "/routing/control-plane-protocols/control-plane-protocol" from
        <xref target="RFC8349"/>, and it references <xref target="RFC5880"/>.
        </t>
<sourcecode type="yang"><![CDATA[
module example-bfd-echo {
  namespace "tag:example.com,2018:example-bfd-echo";

  prefix "example-bfd-echo";

  import ietf-bfd-types {
    prefix "bfd-types";
  }

  import ietf-bfd {
    prefix "bfd";
  }

  import ietf-bfd-ip-sh {
    prefix "bfd-ip-sh";
  }

  import ietf-routing {
    prefix "rt";
  }

  organization "IETF BFD Working Group";

  contact
    "WG Web:   <https://datatracker.ietf.org/wg/bfd/>
     WG List:  <mailto:rtg-bfd@ietf.org>

     Editor:   Reshad Rahman
               <mailto:reshad@yahoo.com>

     Editor:   Lianshu Zheng
               <mailto:vero.zheng@huawei.com>

     Editor:   Mahesh Jethanandani 
               <mailto:mjethanandani@gmail.com>";

  description
    "This module contains an example YANG augmentation for
     configuration of the BFD Echo function.

     Copyright (c) 2020 IETF Trust and the persons identified as
     authors of the code.  All rights reserved.

     Redistribution and use in source and binary forms, with or
     without modification, is permitted pursuant to, and subject to
     the license terms contained in, the Simplified BSD License set
     forth in Section 4.c of the IETF Trust's Legal Provisions
     Relating to IETF Documents
     (https://trustee.ietf.org/license-info).

     This version of this YANG module is part of RFC 0000; see the
     RFC itself for full legal notices.";

  revision 2018-08-01 {
    description
      "Initial revision.";
    reference
      "RFC 0000: YANG Data Model for Bidirectional Forwarding
       Detection (BFD)";
  }

  /*
   * Groupings
   */
  grouping echo-cfg-parms {
    description
      "BFD grouping for Echo configuration parameters.";
    leaf desired-min-echo-tx-interval {
      type uint32;
      units microseconds;
      default 0;
      description
        "This is the minimum interval that the local system would
         like to use when transmitting BFD Echo packets.  If 0,
         the Echo function as defined in BFD (RFC 5880) is
         disabled.";
    }

    leaf required-min-echo-rx-interval {
      type uint32;
      units microseconds;
      default 0;
      description
        "This is the Required Min Echo RX Interval as defined in BFD
         (RFC 5880).";
    }
  }

  augment "/rt:routing/rt:control-plane-protocols/"
        + "rt:control-plane-protocol/bfd:bfd/bfd-ip-sh:ip-sh/"
        + "bfd-ip-sh:sessions" {
    description
      "Augmentation for the BFD Echo function.";

    container echo {
      if-feature bfd-types:echo-mode;

      description
        "BFD Echo function container.";

      uses echo-cfg-parms;
    }
  }
}]]></sourcecode>
      </section>
    </section>
    <section numbered="false" toc="default">
      <name>Acknowledgments</name>
      <t>We would like to thank <contact fullname="Nobo Akiya"/> and
      <contact fullname="Jeff Haas"/> for their encouragement on this work.
      We would also like to thank <contact fullname="Tom Petch"/> for his
      comments on the draft. We would also like to thank
      <contact fullname="Acee Lindem"/> for his guidance. Thanks also to
      Juergen Schoenwaelder, who was instrumental in improving the YANG
      modules.</t> 
    </section>
  </back>
</rfc>
